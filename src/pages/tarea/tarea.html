<!--
  Generated template for the Tarea page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
 <ion-navbar hideBackButton color="primary">
    <ion-buttons left>
        <button ion-button (click)="goBack()">
            <ion-icon class="customIcon" name="arrow-back"></ion-icon>
        </button>
    </ion-buttons>
    <ion-title>Tarea Iniciada</ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="royal" (click)="finalizarTarea()">
        <ion-icon name="md-open"></ion-icon>
      </button>
    </ion-buttons>
 </ion-navbar>
</ion-header>

<ion-content >
  <ion-list>
    <ion-item>
      <ion-icon name="barcode" item-left></ion-icon>
      <ion-label floating>Código</ion-label>
      <ion-input type="text" value="" autofocus  [(ngModel)]="codigo" (focusout)="onFocusOut($event)"  (keydown)="onSerie($event,input)" #input ></ion-input>
    </ion-item>
  </ion-list>
  <ion-list *ngIf="mostrarError">
    <ion-item color="danger">
      <ion-note item-start style="color:white">
          {{mensajeDeError}}
      </ion-note>
    </ion-item>
  </ion-list>
  <ion-item-divider  color="light">Buscar Productos en Bodega No. <ion-badge >{{tarea.documento.Bodega}}</ion-badge></ion-item-divider>
  <ion-list inset >
    <ion-list-header>
        Listado de Artículos
    </ion-list-header>
    <ion-item-sliding *ngFor="let item of tarea.detalleTarea"  >
      <button ion-item >
          {{item.Articulo }}
          <ion-badge *ngIf="item.Solucion<item.Asignado" item-right color="danger">{{item.Solucion| number:'.0' }}/{{item.Asignado | number:'.0'}}</ion-badge>
          <ion-badge *ngIf="item.Solucion===item.Asignado" item-right color="secondary" >{{item.Solucion | number:'.0'}}/{{item.Asignado | number:'.0' }}</ion-badge>
      </button>
      <ion-item-options side="right">
        <button ion-button (click)="modalDetallePicking(item)">
          <ion-icon name="ios-list-box-outline"></ion-icon>
          Detalles
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
</ion-content>
